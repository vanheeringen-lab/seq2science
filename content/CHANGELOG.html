

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; seq2science  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Extra resources" href="extracontent.html" />
    <link rel="prev" title="All configurable options" href="schemas.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> seq2science
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Using the results</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="extensive_docs.html">Extensive docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="all_rules.html">Per rule explanation</a></li>
<li class="toctree-l2"><a class="reference internal" href="schemas.html">All configurable options</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Unreleased</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#changed">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fixed">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id3">0.2.3 - 2020-09-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id7">0.2.2 - 2020-08-24</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#added">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id11">0.2.1 - 2020-08-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id16">0.2.0 - 2020-08-04</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id22">0.1.0 - 2020-07-15</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id23">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id27">0.0.3 - 2020-07-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id28">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id30">0.0.2 - 2020-06-29</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id31">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id34">0.0.1 - 2020-06-17</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">0.0.0 - 2020-06-11</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extracontent.html">Extra resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">seq2science</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="extensive_docs.html">Extensive docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/vanheeringen-lab/seq2science/blob/master/docs/content/CHANGELOG.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<p>All notable changes to <code class="docutils literal notranslate"><span class="pre">seq2science</span></code> will be documented in this file.</p>
<p>The format is based on <a class="reference external" href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a class="reference external" href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<p>All changed fall under either one of these types: <code class="docutils literal notranslate"><span class="pre">Added</span></code>, <code class="docutils literal notranslate"><span class="pre">Changed</span></code>, <code class="docutils literal notranslate"><span class="pre">Deprecated</span></code>, <code class="docutils literal notranslate"><span class="pre">Removed</span></code>, <code class="docutils literal notranslate"><span class="pre">Fixed</span></code> or <code class="docutils literal notranslate"><span class="pre">Security</span></code>.</p>
<div class="section" id="id1">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/master...v0.2.3">Unreleased</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>markduplicates now removes duplicates as default</p></li>
<li><p>testing: clear genomepy caches between runs</p></li>
<li><p>add parallel-fastq-dump fallback to fasterq-dump</p></li>
</ul>
</div>
<div class="section" id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Issue with control and technical replicates</p></li>
<li><p>Now also SRR numbers can be directly downloaded from ENA</p></li>
<li><p>Python3.8 syntaxwarnings</p></li>
<li><p>Chipseeker missing gtf input</p></li>
</ul>
</div>
</div>
<div class="section" id="id3">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.2...v0.2.3">0.2.3</a> - 2020-09-01<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Changed<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>retry mechanic for genomepy functions</p></li>
<li><p>moved RNA-seq sample clustering to the MultiQC</p></li>
<li><p>updated genomepy</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Fixed<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>suffix being overwritten by layouts</p></li>
<li><p>issue with combining conditions and ruleorder for macs2</p></li>
<li><p>Assembly hub correctly showing annotations</p></li>
<li><p>.fa.sizes staying empty</p></li>
</ul>
</div>
</div>
<div class="section" id="id7">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.1...v0.2.2">0.2.2</a> - 2020-08-24<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="section" id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>option to add custom files to each assembly (such as ERCC spike ins for scRNA-seq)</p></li>
</ul>
</div>
<div class="section" id="id8">
<h3>Changed<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>assemblies are now checked in the configuration, similar to samples</p></li>
<li><p>get_genome was split in 3 rules, allowing for less reruns</p></li>
<li><p>Profiles are now parsed by the s2s wrapper</p></li>
<li><p>Checking for validity of samples.tsv now happens with pandasschema</p></li>
<li><p>Explicit priority arguments to all group jobs (aligner + samtools_presort)</p></li>
<li><p>Snakemake version (5.22.1)</p></li>
<li><p>Reduced threads on salmon indexing (matching aligners)</p></li>
<li><p>Make use of fasterq-dump instead of parallel-fastq-dump</p></li>
</ul>
</div>
<div class="section" id="id9">
<h3>Fixed<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Test no longer use old cache files</p></li>
<li><p>Profiles no longer overwrite command line arguments</p></li>
<li><p>Fixed edge-case with condition column in samples but no peak-calling</p></li>
<li><p>Downloading sra with prefetch tries multiple times to correct for lost connection</p></li>
<li><p>Ambiguity exception with rule narrowpeak_summit</p></li>
<li><p>combine_peaks makes use of biological replicate’s peaks, not technical replicate’s peaks</p></li>
<li><p>Bug with direct peak-calling on conditions</p></li>
</ul>
</div>
</div>
<div class="section" id="id11">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.0...v0.2.1">0.2.1</a> - 2020-08-10<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id12">
<h3>Added<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Chipseeker images in MultiQC report</p></li>
<li><p>Samples that are on ENA are now directly downloaded from ENA as fastq. This means we skip the CPU instensive dumping step!</p></li>
</ul>
</div>
<div class="section" id="id13">
<h3>Fixed<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed issue with some samples not being findable/downloadable with s2s</p></li>
<li><p>Fixed has_annotation always looking for annotation even if local files present</p></li>
<li><p>Fixed bug where scatac-seq workflow was making fastqc reports per sample</p></li>
</ul>
</div>
<div class="section" id="id14">
<h3>Changed<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>will try to UCSC gene annotations in Ensembl format (which uses gene IDs for the gene_id field, contrary to the UCSC format that uses transcript IDs. Wild huh?)</p></li>
</ul>
</div>
</div>
<div class="section" id="id16">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.1.0...v0.2.0">0.2.0</a> - 2020-08-04<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id17">
<h3>Fixed<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Allow for same condition name across different assemblies &amp; different controls</p></li>
</ul>
</div>
<div class="section" id="id18">
<h3>Added<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>HISAT2 as aligner for RNA-seq</p></li>
<li><p>splice-aware HISAT2 indexing for RNA-seq</p></li>
<li><p>quantifier HTSeq for RNA-seq</p></li>
<li><p>quantifier featurecounts for RNA-seq</p></li>
<li><p>Salmon will output a gene-level TPM matrix as well</p></li>
<li><p>added/expanded <code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> info (now covers RNA- and scATAC-seq too)</p></li>
<li><p>sequencing strandedness may now be inferred automatically (unless specified in the config/samples.tsv)</p></li>
<li><p>strandedness results are displayed in the multiQC under “Strandedness”</p></li>
<li><p>a DEXSeq counts matrixs can now be generated with <code class="docutils literal notranslate"><span class="pre">dexseq:</span> <span class="pre">True</span></code></p></li>
<li><p>seq2science CLI now has the same reason flag as snakemake (-r/–reason flag)</p></li>
<li><p>(re)added fnwi + rimls logos to the qc reports that went missing in seq2science migration</p></li>
</ul>
</div>
<div class="section" id="id19">
<h3>Changed<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>rules and script names in RNA-seq. ex: <code class="docutils literal notranslate"><span class="pre">txi.R</span></code> is now <code class="docutils literal notranslate"><span class="pre">quant_to_counts.R</span></code> to better reflect its function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quant_to_counts.R</span></code> now converts salmon transcript abundances to gene counts identically to DESeq2</p></li>
<li><p>STAR no longer outputs counts, and is no longer found under <code class="docutils literal notranslate"><span class="pre">quantifiers</span></code></p></li>
<li><p>gene counts are generated from (filtered) bams when using either STAR or HISAT2 as aligner and HTSeq or featureCounts are quantifier</p></li>
<li><p>batch corrected gene counts are generated if a DESeq2 design contrast inclused a batch</p></li>
<li><p>batch corrected TPM are generated if a DESeq2 design contrast inclused a batch, and quantification was performed using Salmon</p>
<ul>
<li><p>for us in ANANSE, for instance</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> now retrieves messages from <code class="docutils literal notranslate"><span class="pre">explain.smk</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> now used profiles and snakemakeOptions.</p></li>
</ul>
</div>
<div class="section" id="id20">
<h3>Fixed<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>the alignment workflow no longer uses strandedness</p></li>
<li><p>seq2science CLI can now be run without cores with a dryrun or profile with cores</p></li>
<li><p>Jenkins code style (now used mamba to install flake8)</p></li>
</ul>
</div>
</div>
<div class="section" id="id22">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.3...v0.1.0">0.1.0</a> - 2020-07-15<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id23">
<h3>Added<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>bwa-mem2 as aligner</p></li>
<li><p>new command-line option <code class="docutils literal notranslate"><span class="pre">explain</span></code>, which explains what has been done, and writes your material &amp; methods section for you!</p></li>
</ul>
</div>
<div class="section" id="id24">
<h3>Changed<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>change the workflow names, replaced _ by -. (download_fastq to download-fastq, chip_seq to chip-seq, atac_seq to atac-seq, scatac_seq to scatac-seq, and rna_seq to rna-seq)</p></li>
<li><p>changed the way seq2science is called. Moved all the logic from bin/seq2science to seq2science/cli.py</p></li>
</ul>
</div>
<div class="section" id="id25">
<h3>Fixed<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bug when merging replicates and having controls</p></li>
</ul>
</div>
</div>
<div class="section" id="id27">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.2...v0.0.3">0.0.3</a> - 2020-07-01<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id28">
<h3>Fixed<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>bug when specifying 2 cores, which rounded down to zero cores for samtools sorting and crash</p></li>
<li><p>edger environment was incompatible</p></li>
<li><p>seq2science cache on sensible location + seq2science clean fixed</p></li>
<li><p>only lookup sample layout when not local, opens up for slightly better tests in bioconda recipe</p></li>
</ul>
</div>
</div>
<div class="section" id="id30">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.1...v0.0.2">0.0.2</a> - 2020-06-29<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>Fixed<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>samtools using the correct nr of threads after update to v1.10</p></li>
</ul>
</div>
<div class="section" id="id32">
<h3>Changed<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The count table for ATAC/ChIP-seq peaks is now made from finding all peaks within a range of 200 bp, and taking the most significant one (gimmemotifs’ combine_peaks) and extending the remaining peaks 200 bp. On this count table quantile normalisation, TMM, RLE and upperquartile normalisation with CPM is done. Downstream steps log transform these and mean center them. This however means that for broadpeaks no count_table is generated.</p></li>
<li><p>Snakefmt -l 121 applied</p></li>
</ul>
</div>
</div>
<div class="section" id="id34">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.0...v0.0.1">0.0.1</a> - 2020-06-17<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h2>
<p>Many minor bug- and quality of life fixes.</p>
</div>
<div class="section" id="id36">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/releases/tag/v0.0.0">0.0.0</a> - 2020-06-11<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<p>First release of seq2science!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extracontent.html" class="btn btn-neutral float-right" title="Extra resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="schemas.html" class="btn btn-neutral float-left" title="All configurable options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Maarten van der Sande, Siebren Frölich, Jos Smits, &amp; Simon van Heeringen.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>