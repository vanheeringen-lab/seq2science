<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Changelog &mdash; seq2science  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Extra resources" href="extracontent.html" />
    <link rel="prev" title="All configurable options" href="schemas.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> seq2science
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Using the results</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="extensive_docs.html">Extensive docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="all_rules.html">Per rule explanation</a></li>
<li class="toctree-l2"><a class="reference internal" href="schemas.html">All configurable options</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Unreleased</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">0.9.1 - 2022-05-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#changed">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id5">0.9.0 - 2022-05-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fixed">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id8">0.8.0 - 2022-04-29</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#added">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#removed">Removed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id12">0.7.2 - 2022-03-04</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id17">0.7.1 - 2022-02-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id18">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id20">0.7.0 - 2022-02-02</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id21">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id25">0.6.1 - 2021-12-17</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id28">0.6.0 - 2021-12-12</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id29">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id31">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id33">0.5.6 - 2021-10-19</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id34">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id35">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id36">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id38">0.5.5 - 2021-09-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id39">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id40">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id42">0.5.4 - 2021-07-07</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id43">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id44">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id46">0.5.3 - 2021-06-03</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id47">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id48">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id49">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id51">0.5.2 - 2021-05-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id52">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id53">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id55">0.5.1 - 2021-04-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id56">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id57">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id58">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id60">0.5.0 - 2021-03-03</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id61">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id62">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id63">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id65">0.4.3 - 2021-01-26</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id66">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id67">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id69">0.4.2 - 2021-01-19</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id70">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id71">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id73">0.4.1 - 2020-12-18</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id74">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id75">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id77">0.4.0 - 2020-12-11</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id78">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id79">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id80">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id82">0.3.2 - 2020-11-26</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id83">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id84">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id86">0.3.1 - 2020-11-16</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id87">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id88">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id90">0.3.1 - 2020-11-05</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id91">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id92">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id93">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id95">0.3.0 - 2020-09-22</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id96">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id97">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id98">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id100">0.2.3 - 2020-09-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id101">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id102">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id104">0.2.2 - 2020-08-24</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id105">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id106">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id107">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id109">0.2.1 - 2020-08-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id110">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id111">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id112">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id114">0.2.0 - 2020-08-04</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id115">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id116">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id117">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id118">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id120">0.1.0 - 2020-07-15</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id121">Added</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id122">Changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id123">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id125">0.0.3 - 2020-07-01</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id126">Fixed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id128">0.0.2 - 2020-06-29</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id129">Fixed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id130">Changed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id132">0.0.1 - 2020-06-17</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id134">0.0.0 - 2020-06-11</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extracontent.html">Extra resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing to seq2science</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">seq2science</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="extensive_docs.html">Extensive docs</a> &raquo;</li>
      <li>Changelog</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/vanheeringen-lab/seq2science/blob/master/docs/content/CHANGELOG.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline"></a></h1>
<p>All notable changes to <code class="docutils literal notranslate"><span class="pre">seq2science</span></code> will be documented in this file.</p>
<p>The format is based on <a class="reference external" href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>,
and this project adheres to <a class="reference external" href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<p>All changed fall under either one of these types: <code class="docutils literal notranslate"><span class="pre">Added</span></code>, <code class="docutils literal notranslate"><span class="pre">Changed</span></code>, <code class="docutils literal notranslate"><span class="pre">Deprecated</span></code>, <code class="docutils literal notranslate"><span class="pre">Removed</span></code>, <code class="docutils literal notranslate"><span class="pre">Fixed</span></code> or <code class="docutils literal notranslate"><span class="pre">Security</span></code>.</p>
<section id="id1">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.9.1...develop">Unreleased</a><a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
</section>
<section id="id3">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.9.0...v0.9.1">0.9.1</a> - 2022-05-10<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h2>
<section id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>updated snakemake</p>
<ul>
<li><p>effective genome size is now estimated per kmer length instead of per sample since checkpoints should work again.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="id5">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.8.0...v0.9.0">0.9.0</a> - 2022-05-10<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h2>
<section id="id6">
<h3>Changed<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>renamed most globals in uppercase (main exceptions are <code class="docutils literal notranslate"><span class="pre">config</span></code> and <code class="docutils literal notranslate"><span class="pre">samples</span></code>, <code class="docutils literal notranslate"><span class="pre">treps</span></code> and <code class="docutils literal notranslate"><span class="pre">breps</span></code>)</p></li>
<li><p>moved most configuration steps into functions (reducing the number of stray globals)</p></li>
<li><p>replaced static functions with dictionaries</p></li>
<li><p>moved replicate stuff to the configuration</p></li>
<li><p>Updated Salmon</p></li>
<li><p>Added the option for Salmon to use the full genome as decoy sequence</p></li>
<li><p>Salmon now uses the full genome as decoy sequence by default.</p>
<ul>
<li><p>Config option <code class="docutils literal notranslate"><span class="pre">quantifier_decoys</span></code> controls which level of decoy aware quantification you want (options are ‘none’, ‘partial’ and ‘full’)</p></li>
<li><p>Option ‘partial’ is insanely memory intensive, and the Salmon docs suggest no benefit…</p></li>
</ul>
</li>
<li><p>improved parsing of the samples.tsv. More errors early on, to prevent headache later!</p></li>
</ul>
</section>
<section id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>get_fastq_pair_reads() was using one sample, not any sample</p></li>
<li><p>error message not working when trimming in scRNA-seq</p></li>
<li><p>trackhubs when using a mix of stranded and unstranded datasets</p></li>
<li><p>fix samples.tsv checks for forbidden symbols</p></li>
</ul>
</section>
</section>
<section id="id8">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.7.2...v0.8.0">0.8.0</a> - 2022-04-29<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h2>
<section id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>idr call is configurable (<code class="docutils literal notranslate"><span class="pre">idr_options</span></code>)</p></li>
<li><p>single-cell DESeq2 (currently only via <code class="docutils literal notranslate"><span class="pre">deseq2science</span></code> with user-specified groups per cell)</p></li>
<li><p>scRNA quality control workflow with singleCellTK</p>
<ul>
<li><p>cell calling/filtering with DropletUtils</p></li>
<li><p>mitochondrial gene set detection/filtering</p></li>
<li><p>doublet identification/filtering with scDblFinder</p></li>
<li><p>processing of alternative experiments, such as spike-in expression</p></li>
<li><p>qc report generation for cell/droplet based experiments</p></li>
</ul>
</li>
<li><p>added Seurat and FlatFile format export to scRNA qc workflow</p></li>
<li><p>added parameter to select velocity matrix for qc and export</p></li>
</ul>
</section>
<section id="id9">
<h3>Changed<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>rna-seq creates a TPM table for each quantification method</p></li>
<li><p>raw/processed scRNA count tables are now stored and exported to SingleCellExperiment S4 objects instead of Seurat S4 objects</p></li>
<li><p>moved scRNA post processing to separate module</p></li>
<li><p>export unspliced velocity counts to separate sce object</p></li>
<li><p>seq2science should be less susceptible to poor programming environment management by using the conda-ecosystem-user-package-isolation package</p></li>
<li><p>seq2science will now demand all requirements exactly the way it likes it</p>
<ul>
<li><p>this will make the workflows more stable.</p></li>
</ul>
</li>
<li><p>local fastq files are no longer renamed (and should just work)</p></li>
<li><p>scRNA-seq trimming code simplified</p></li>
</ul>
</section>
<section id="removed">
<h3>Removed<a class="headerlink" href="#removed" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>removed scRNA merging rule due to memory issues with large and sparse samples</p></li>
<li><p>removed deprecated scRNA post-processing workflow (superseded by singleCellTK qc workflow)</p></li>
</ul>
</section>
<section id="id10">
<h3>Fixed<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>fixed bug causing incorrect genome string in <code class="docutils literal notranslate"><span class="pre">read_kb_counts.R</span></code></p></li>
<li><p>bams generated with(out) filtering on size and tn5 shifting weren’t removed when not necessary anymore</p></li>
</ul>
</section>
</section>
<section id="id12">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.7.1...v0.7.2">0.7.2</a> - 2022-03-04<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h2>
<section id="id13">
<h3>Added<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>TPM to gene counts conversion with pytxi</p>
<ul>
<li><p>by default attempts to use the GTF file to convert transcript_ids to gene_names</p></li>
<li><p>otherwise will use MyGene.info</p></li>
</ul>
</li>
<li><p>config option <code class="docutils literal notranslate"><span class="pre">tpm2counts</span></code> to chose which TPM to counts converter to use</p></li>
</ul>
</section>
<section id="id14">
<h3>Changed<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>pytxi is now the default TPM to gene counts converter (over tximeta)</p></li>
<li><p>peak/gene counts tables now use descriptive names (if given)</p></li>
<li><p>MultiQC DESeq2 correlation plots now display correlation metrics in the figure</p></li>
<li><p>using awful practices to eliminate checkpoint strandedness</p></li>
<li><p>deeptools_flags renamed to deeptools_bamcoverage</p></li>
<li><p>rna-seq trackhub per base tracks by default instead of bins per 50</p></li>
</ul>
</section>
<section id="id15">
<h3>Fixed<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>edge-cases where seq2science was too strict with rerunning</p></li>
<li><p>assembly stats log scale on the y-axis</p></li>
<li><p>s2s explain wont tell you about subsampling to -1 (all) reads</p></li>
<li><p>tn5 shift cigar string parsing edge-case (reference deletions/insertions)</p></li>
</ul>
</section>
</section>
<section id="id17">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.7.0...v0.7.1">0.7.1</a> - 2022-02-10<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h2>
<section id="id18">
<h3>Fixed<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>issue with broad peaks and upsetplots</p></li>
</ul>
</section>
</section>
<section id="id20">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.6.1...v0.7.0">0.7.0</a> - 2022-02-02<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h2>
<p>Biggest change is that we revert back to snakemake 5.18 since higher versioned snakemake’s cause instability.</p>
<section id="id21">
<h3>Added<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>upset plot as QC for peak calling. Should give a first feeling about the distribution of peaks between samples/conditions.</p></li>
</ul>
</section>
<section id="id22">
<h3>Changed<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>downgraded the snakemake backend as snakemake 6+ is unstable for us.</p></li>
</ul>
</section>
<section id="id23">
<h3>Fixed<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>corrupt environment creation with libreadline for edgeR normalization.</p></li>
<li><p>subsampling causing a crash caused by bad syntax.</p></li>
</ul>
</section>
</section>
<section id="id25">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.6.0...v0.6.1">0.6.1</a> - 2021-12-17<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h2>
<section id="id26">
<h3>Fixed<a class="headerlink" href="#id26" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>corrupt environment creation with libcrypto in combination with strandedness rule</p></li>
</ul>
</section>
</section>
<section id="id28">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.6...v0.6.0">0.6.0</a> - 2021-12-12<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h2>
<p>Release 0.6.0 is a mix of bug fixes, small changes, and bigger stuff. Most importantly:</p>
<ul class="simple">
<li><p>added a deseq2science command to do differential expression analysis on user-supplied tables with seq2science settings</p></li>
<li><p>for single-cell RNA-seq ADT-quantification is possible</p></li>
<li><p>snakemake library updated, giving seq2science a new-ish look :)</p></li>
</ul>
<p>The full changes are listed below:</p>
<section id="id29">
<h3>Added<a class="headerlink" href="#id29" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>added generic stats to the MultiQC report about the assembly, which might help pin point problems with the assembly used.</p></li>
<li><p>added the slop parameter to the config.yaml of atac-seq and chip-seq workflows, just so they are more visible.</p></li>
<li><p>added support for seurat object export and merging for kb workflow.</p></li>
<li><p>added support for CITE-seq-count for ADT quantification</p></li>
<li><p>added the option to downsample to a specific number of reads.</p></li>
<li><p>new deseq2science command</p></li>
</ul>
</section>
<section id="id30">
<h3>Changed<a class="headerlink" href="#id30" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Seq2science now makes a separate blacklist file per blacklist option (encode &amp; mitochondria), so that e.g. RNA-seq and ATAC-seq workflows can be run in parallel and don’t conflict on the blacklist.</p></li>
<li><p>error messages don’t show the full traceback anymore, making it (hopefully) more clear what is going wrong.</p></li>
<li><p>The effective genome size is now not calculated per sample, but per read length. When dealing with multiple samples (of similar) length this improves computational burden quite some.</p></li>
<li><p>samtools environment updated to version 1.14</p></li>
</ul>
</section>
<section id="id31">
<h3>Fixed<a class="headerlink" href="#id31" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>config option <code class="docutils literal notranslate"><span class="pre">slop</span></code> is now passed along to each rule using it</p></li>
<li><p>edge-case where local samples are in the cache, but not present in the fastq_dir</p></li>
<li><p>bug with differential peak/gene expression across multiple assemblies</p></li>
<li><p>bug with kb ref not creating index for non-velocity analysis</p></li>
<li><p>bug with count import in read_kb_counts.R for technical replicates and meta-data handling</p></li>
<li><p>deseq2 ordering in multiqc report</p></li>
<li><p>issue with slop not being used for the final count table</p></li>
<li><p>bug with onehot peaks not reporting the sample names as columns</p></li>
</ul>
</section>
</section>
<section id="id33">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.5...v0.5.6">0.5.6</a> - 2021-10-19<a class="headerlink" href="#id33" title="Permalink to this headline"></a></h2>
<section id="id34">
<h3>Added<a class="headerlink" href="#id34" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>MA plot, volcano plot, and PCA plots added to QC report for deseq2 related workflows</p></li>
</ul>
</section>
<section id="id35">
<h3>Changed<a class="headerlink" href="#id35" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>updated salmon &amp; tximeta versions</p></li>
<li><p>colors for DESeq2 distance plots “fixed”</p></li>
<li><p>updated bwa-mem2 version and reduced the expected memory usage of bwa-mem2 to 40GB</p></li>
<li><p>seq2science now uses snakemake-minimal</p></li>
</ul>
</section>
<section id="id36">
<h3>Fixed<a class="headerlink" href="#id36" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>stranded bigwigs are no longer inverted (forward containing reverse reads and vice-versa).</p></li>
<li><p>fix in <code class="docutils literal notranslate"><span class="pre">rename_sample</span></code> preventing the inversion of R1 and R2 FASTQs.</p></li>
<li><p>bug with parsing cli for explanations</p></li>
<li><p>show/hide buttons for treps are actually made for multiqc report</p></li>
<li><p>fixes in deseq2/utils.R</p>
<ul>
<li><p>the samples.tsv will now work with only 2 columns</p></li>
<li><p>the samples.tsv column names will be stripped of excess whitespace, similar to the config.</p></li>
</ul>
</li>
<li><p>ATAC-seq pipeline removing the final bams, keeping the unsorted one</p></li>
</ul>
</section>
</section>
<section id="id38">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.4...v0.5.5">0.5.5</a> - 2021-09-01<a class="headerlink" href="#id38" title="Permalink to this headline"></a></h2>
<section id="id39">
<h3>Changed<a class="headerlink" href="#id39" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>duplicate read marking happens before sieving and no reads get removed. Removal of duplicate reads now controlled with flag <code class="docutils literal notranslate"><span class="pre">remove_dups</span></code> in the config.</p></li>
<li><p>changed option <code class="docutils literal notranslate"><span class="pre">heatmap_deeptools_options</span></code> to <code class="docutils literal notranslate"><span class="pre">deeptools_heatmap_options</span></code></p></li>
<li><p>Updated sra tools and parallel fastq-dump versions</p></li>
<li><p>Updated genomepy version</p></li>
<li><p>Gene annotations are no longer gzipped and ungzipped. This should reduce rerunning.</p></li>
</ul>
</section>
<section id="id40">
<h3>Fixed<a class="headerlink" href="#id40" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>rerunning being triggered too easily by input order</p></li>
<li><p>issue with qc plots and broad peaks</p></li>
<li><p>magic with prefetch not having the same output location on all machines</p></li>
<li><p>issue with explain having duplicate lines</p></li>
</ul>
</section>
</section>
<section id="id42">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.3...v0.5.4">0.5.4</a> - 2021-07-07<a class="headerlink" href="#id42" title="Permalink to this headline"></a></h2>
<section id="id43">
<h3>Added<a class="headerlink" href="#id43" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>added support for kb-python kite workflow</p></li>
</ul>
</section>
<section id="id44">
<h3>Changed<a class="headerlink" href="#id44" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>kb count output validation</p></li>
<li><p>optional barcodefile argument for scRNA-seq workflow</p></li>
<li><p>MultiQC updated to newest version</p></li>
<li><p>updated kb-python version</p></li>
</ul>
</section>
</section>
<section id="id46">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.2...v0.5.3">0.5.3</a> - 2021-06-03<a class="headerlink" href="#id46" title="Permalink to this headline"></a></h2>
<section id="id47">
<h3>Added<a class="headerlink" href="#id47" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>DESeq2 blind sample distance &amp; correlation cluster heatmaps for RNA-, ATAC- ChIP-seq counts</p>
<ul>
<li><p>find them annotated in the MultiQC when running &gt;1 sample</p></li>
</ul>
</li>
</ul>
</section>
<section id="id48">
<h3>Changed<a class="headerlink" href="#id48" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>“biological_replicate” and “technical_replicate” renamed to “…_replicates” (matches between samples.tsv &amp; config.yaml)</p></li>
<li><p>fixed bug with seq2science making a {output.allsizes} file</p></li>
<li><p>Changed explain to use ‘passive style’</p></li>
<li><p>Genrich peak calling defaults</p>
<ul>
<li><p>Doesn’t remove PCR duplicates anymore (best to do with markduplicates)</p></li>
<li><p>Changed extsize to 200 to be similar to macs settings</p></li>
<li><p>Turned off tn5 shift, since that is done by seq2science</p></li>
</ul>
</li>
</ul>
</section>
<section id="id49">
<h3>Fixed<a class="headerlink" href="#id49" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>depend less on local genomes (only when data is unavailable online)</p></li>
<li><p>trackhub explanation was missing, added</p></li>
<li><p>bug with broad peaks and qc that could not be made</p></li>
</ul>
</section>
</section>
<section id="id51">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.1...v0.5.2">0.5.2</a> - 2021-05-10<a class="headerlink" href="#id51" title="Permalink to this headline"></a></h2>
<section id="id52">
<h3>Added<a class="headerlink" href="#id52" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>added rule for scRNA post-processing R Markdown for plate/droplet based scRNA protocols (experimental)</p></li>
<li><p>added explanation for kb_seurat_pp rule</p></li>
<li><p>heatmap of N random peaks to the multiqc report in the end</p></li>
</ul>
</section>
<section id="id53">
<h3>Fixed<a class="headerlink" href="#id53" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>removed a warning of genome.fa.sizes already existing due to being already being downloaded beforehand (it’s removed in between)</p></li>
<li><p>genomepy’s provider statuc checking not being used.</p></li>
</ul>
</section>
</section>
<section id="id55">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.5.0...v0.5.1">0.5.1</a> - 2021-04-01<a class="headerlink" href="#id55" title="Permalink to this headline"></a></h2>
<section id="id56">
<h3>Added<a class="headerlink" href="#id56" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>added CLI functionality to the deseq2.R script (try it with <code class="docutils literal notranslate"><span class="pre">Rscript</span> <span class="pre">/path/to/deseq2.R</span> <span class="pre">--help</span></code>!)</p></li>
<li><p>–force flag to seq2science init to automatically overwrite existing samples.tsv and config.yaml</p></li>
<li><p>local fastqs with Illumina’s ‘_100’ are now recognized</p></li>
<li><p>added the workflow explanation to the multiqc report</p></li>
</ul>
</section>
<section id="id57">
<h3>Changed<a class="headerlink" href="#id57" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>config checks: all keys converted to lower case &amp; duplicate keys throw an exception</p></li>
<li><p>MultiQC updated to v1.10</p></li>
<li><p>Link to seq2science log instead of snakemake log in final message</p></li>
</ul>
</section>
<section id="id58">
<h3>Fixed<a class="headerlink" href="#id58" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Issue when filtering a combination of single-end and paired-end reads on template length</p></li>
<li><p>explain functionality testing</p></li>
<li><p>scATAC can properly use SE fastqs</p></li>
<li><p>scRNA can use fqexts other than R1/R2</p></li>
<li><p>fastq renaming works again</p></li>
<li><p>added missing schemas to extended docs</p></li>
<li><p>Bug with edgeR.upperquartile normalization. Now makes everything NaN, so pipeline finishes succesfully.</p></li>
</ul>
</section>
</section>
<section id="id60">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.4.3...v0.5.0">0.5.0</a> - 2021-03-03<a class="headerlink" href="#id60" title="Permalink to this headline"></a></h2>
<p>Version 0.5.0 brings many quality of life improvements, such as seq2science automatically inferring what needs to be re-run when changing the samples.tsv and/or the config.yaml, differential peak analysis for chip/atac workflows and tab-completion!</p>
<p>To (hopefully) clear things up we changed the way technical and biological replicates are called, now technical and biological replicate, before replicate and condition.</p>
<p>It is important to note that the RNA-seq workflow DOES NOT remove duplicate reads anymore as a <em>default</em>, and that the sc/bulk ATAC-seq workflows now filters reads on the nucleosome-free region as a <em>default</em>.</p>
<section id="id61">
<h3>Changed<a class="headerlink" href="#id61" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Keep all duplicate reads in RNA-seq by default</p></li>
<li><p>Slimmed down the config printed at the start of a run</p></li>
<li><p>Changed some rules into localrules when executed on a cluster</p></li>
<li><p>moved onehot peaks to counts_dir</p></li>
<li><p>DESeq2 contrasts now accept any column names</p>
<ul>
<li><p>groups still cannot contain underscores</p></li>
<li><p>no longer accepts one group name</p></li>
<li><p>more examples added to the docs!</p></li>
</ul>
</li>
</ul>
</section>
<section id="id62">
<h3>Added<a class="headerlink" href="#id62" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>dupRadar module to analyse read duplication types in RNA-seq</p></li>
<li><p>Differential peak analysis for ATAC- and ChIP-seq!</p></li>
<li><p>Options to filter bams by minimum and maximum insert sizes (added to config of bulk/sc atac)</p></li>
<li><p>Support experiment ids for EBI ENA and DDBJ for downloading public samples</p></li>
<li><p>More robust expression handling for BUS format detection from kb-python arguments</p></li>
<li><p>Short-hand BUS syntax for indrop v1/v2</p></li>
<li><p>Seq2science now supports tab-completion</p></li>
<li><p>Seq2science now outputs a logfile in the directory it is run</p></li>
</ul>
</section>
<section id="id63">
<h3>Fixed<a class="headerlink" href="#id63" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>renamed more old “replicate” variables to the new “technical_replicate”</p></li>
<li><p>minor logging tweak</p></li>
<li><p>Chipseeker now works without defining descriptive name column</p></li>
<li><p>fix bug in resources parsing of profiles</p></li>
<li><p>small bug when naming a column condition in non peak-calling workflows</p></li>
</ul>
</section>
</section>
<section id="id65">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.4.2...v0.4.3">0.4.3</a> - 2021-01-26<a class="headerlink" href="#id65" title="Permalink to this headline"></a></h2>
<section id="id66">
<h3>Changed<a class="headerlink" href="#id66" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>updated tximeta to 1.6.3 and related packages to fit (now uses R 4)</p></li>
<li><p>RNA-seq: sample distance matrix font scales with number of samples (should improve readability)</p></li>
</ul>
</section>
<section id="id67">
<h3>Fixed<a class="headerlink" href="#id67" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>RNA-seq: added sample distance matrix back to MulitQC</p></li>
<li><p>RNA-seq: sample distance matrix legend fixed</p></li>
<li><p>combine peaks with biological_replicates: keep now uses the correct peaks</p></li>
</ul>
</section>
</section>
<section id="id69">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.4.1...v0.4.2">0.4.2</a> - 2021-01-19<a class="headerlink" href="#id69" title="Permalink to this headline"></a></h2>
<section id="id70">
<h3>Changed<a class="headerlink" href="#id70" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Updated kb-python to 0.25.1</p></li>
<li><p>RNA-seq with Salmon will still use bam-related QC files if bams are generated (create_trackhub = True)</p></li>
</ul>
</section>
<section id="id71">
<h3>Fixed<a class="headerlink" href="#id71" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>gimmemotifs not working with newest pandas, now a fixed pandas version</p></li>
</ul>
</section>
</section>
<section id="id73">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.4.0...v0.4.1">0.4.1</a> - 2020-12-18<a class="headerlink" href="#id73" title="Permalink to this headline"></a></h2>
<section id="id74">
<h3>Added<a class="headerlink" href="#id74" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>more explanations for rules</p></li>
</ul>
</section>
<section id="id75">
<h3>Fixed<a class="headerlink" href="#id75" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>custom genome annotations for single-cell RNA-seq workflow</p></li>
<li><p>trackhubs no longer looking for reversed strands if none are present</p></li>
</ul>
</section>
</section>
<section id="id77">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.3.2...v0.4.0">0.4.0</a> - 2020-12-11<a class="headerlink" href="#id77" title="Permalink to this headline"></a></h2>
<section id="id78">
<h3>Added<a class="headerlink" href="#id78" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>new workflow: (BETA) single cell RNA!</p></li>
</ul>
</section>
<section id="id79">
<h3>Changed<a class="headerlink" href="#id79" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>replicate renamed to technical_replicate and condition renamed to biological_replicate</p></li>
<li><p>bwa-mem2 default aligner for genomic workflows, instead of bwa-mem</p></li>
<li><p>interactive deeptools correlation heatmaps with static dendrograms in multiqc report</p></li>
<li><p>trackhub file permissions are set to 755 so to host the files online you don’t have to change those anymore</p></li>
</ul>
</section>
<section id="id80">
<h3>Fixed<a class="headerlink" href="#id80" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>bug in chip/atac trackhub generation where peaks and bigwigs used the same name, resulting in collisions and a trackhub that does not want to load</p></li>
<li><p>(literal) genome edge-case where taking the slop of peaks results in identical peaks. One of the duplicates is removed.</p></li>
<li><p>IDR should work again</p></li>
</ul>
</section>
</section>
<section id="id82">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.3.1...v0.3.2">0.3.2</a> - 2020-11-26<a class="headerlink" href="#id82" title="Permalink to this headline"></a></h2>
<section id="id83">
<h3>Added<a class="headerlink" href="#id83" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>a check to see if the downloaded fastq from ENA is not empty. Related to a recent internal error (guess) at the side of ENA sending empty fastq files</p></li>
<li><p>a custom message when a rule fails, that redirect to docs</p></li>
</ul>
</section>
<section id="id84">
<h3>Changed<a class="headerlink" href="#id84" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>sample layout lookup is split up in 100’s, to avoid a jsondecodeerror which results from very long lists of samples</p></li>
<li><p>the multiqc samples &amp; config tables are generated in a script with its own environment to make base env smaller</p></li>
<li><p>keep_mates for macs2 turned into a script with ts own environment ot make the base env smaller</p></li>
<li><p>seq2science cache now respects the xdg cache</p></li>
<li><p>moved genome downloading rules into scripts instead of run directives, should result in user-friendlier errors</p></li>
</ul>
</section>
</section>
<section id="id86">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.3.0...v0.3.1">0.3.1</a> - 2020-11-16<a class="headerlink" href="#id86" title="Permalink to this headline"></a></h2>
<section id="id87">
<h3>Added<a class="headerlink" href="#id87" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Added support for multiple scrna-seq platforms (Kallistobus)</p></li>
<li><p>Fastp detects the correct mate for trimming based on BUS settings.</p></li>
<li><p>Support for Kallistobus short-hand syntax.</p></li>
</ul>
</section>
<section id="id88">
<h3>Fixed<a class="headerlink" href="#id88" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>make a trackhub index when the gene_name is not present in gtf file</p></li>
<li><p>make a trackhub index when the gene_name is not present in gene all entries</p></li>
<li><p>update Salmon &amp; salmon rules</p></li>
</ul>
</section>
</section>
<section id="id90">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.3.0...v0.3.1">0.3.1</a> - 2020-11-05<a class="headerlink" href="#id90" title="Permalink to this headline"></a></h2>
<section id="id91">
<h3>Added<a class="headerlink" href="#id91" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>trackhub: automatic color selection</p></li>
<li><p>trackhub: specify colors with the “colors” column in the samples.tsv. Accepts RGB and matplotlib colors.</p></li>
<li><p>trackhub: grouped samples in a composite track with sample filters and composite control</p></li>
</ul>
</section>
<section id="id92">
<h3>Changed<a class="headerlink" href="#id92" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>updated genomepy to 0.9.1: genomes will have alternative regions removed (if designated with “alt” in the name)</p></li>
<li><p>trackhub: better defaults for each track</p></li>
<li><p>layouts are stored per version, as to not have collisions in the way these are stored between versions.</p></li>
<li><p>scATAC no longer supports trackhub</p></li>
<li><p>bigwigs are now (BPM) normalized by default</p></li>
</ul>
</section>
<section id="id93">
<h3>Fixed<a class="headerlink" href="#id93" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>markduplicates now uses $TMP_DIR, if it is defined</p></li>
<li><p>RNA-seq cluster figures werent displaying text on some platforms</p></li>
<li><p>not using the local annotation files</p></li>
<li><p>not recognizing a mix of gzipped and unzipped annotation files</p></li>
<li><p>bigwigs are now correctly labelled forward/reverse (when protocol was stranded)</p></li>
<li><p>trackhub: RNA-seq trackhub now displays both strands of the bigwig (when protocol was stranded)</p></li>
<li><p>trackhub: track order is now identical to the samples.tsv (was alphabetical for ChIP-/ATAC-seq)</p></li>
<li><p>trackhub: assembly hub index now returns gene_name instead of transcript_id.</p></li>
<li><p>bug with edgeR (upperquartile) normalization failed. Not sure why it fails, but when is does, it now returns a dataframe of nan instead of failing the rule, and thus the whole pipeline.</p></li>
<li><p>use gimmemotifs 0.15.0, so gimme.combine_peaks works with numeric chromosome names</p></li>
<li><p>s2s is slightly more lenient with an edge-case when running seq2science in parallel</p></li>
<li><p>clearer error message when trying samples that can not be found</p></li>
<li><p>edge case with trying to dump sra from empty directory</p></li>
<li><p>now give a nice error message when a technical replicate consists of a mix of paired-end and single-end samples</p></li>
<li><p>issue with large number of inputs for multiqc exceeding the os command max length</p></li>
<li><p>bug with downloading only SRR/DRR samples (but no GSM)</p></li>
<li><p>issue with async generation of genome support files</p></li>
<li><p>checking for sequencing runs when sample is already downloaded</p></li>
</ul>
</section>
</section>
<section id="id95">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.3...v0.3.0">0.3.0</a> - 2020-09-22<a class="headerlink" href="#id95" title="Permalink to this headline"></a></h2>
<section id="id96">
<h3>Added<a class="headerlink" href="#id96" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>fastp as aligner (default), makes trimgalore optional other aligner</p></li>
<li><p>you can now specify an url for your samples file</p></li>
<li><p>RNA-seq: gene_id to gene_name conversion table will be output for downstream analysis</p>
<ul>
<li><p>(may be empty if gtf didn’t contain both fields or wrong formatting)</p></li>
</ul>
</li>
<li><p>RNA-seq: quantifying with salmon will now also output a gene length table</p>
<ul>
<li><p>(gene lengths, tpms and gene counts can still be found together in the SingleCellExperiment object)</p></li>
</ul>
</li>
</ul>
</section>
<section id="id97">
<h3>Changed<a class="headerlink" href="#id97" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>make use of pysradb for quering layout and SRR ids instead of API and web-scraping</p></li>
<li><p>markduplicates now removes duplicates as default</p></li>
<li><p>testing: clear genomepy caches between runs</p></li>
<li><p>add parallel-fastq-dump fallback to fasterq-dump</p></li>
<li><p>configuration rules split into more sections</p></li>
<li><p>DESeq2 options renamed (from <code class="docutils literal notranslate"><span class="pre">diffexp</span></code> to <code class="docutils literal notranslate"><span class="pre">deseq2</span></code> and <code class="docutils literal notranslate"><span class="pre">contrasts</span></code>)</p></li>
<li><p>DESeq2 will now generate batch corrected counts (and TPMs for Salmon) for all samples, based on the set condition column.</p>
<ul>
<li><p>(batch corrected output is still meant for downstream analysis that cannot model batch effects independently, e.g. plotting)</p></li>
</ul>
</li>
</ul>
</section>
<section id="id98">
<h3>Fixed<a class="headerlink" href="#id98" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>issue with control and technical replicates</p></li>
<li><p>now also SRR numbers can be directly downloaded from ENA</p></li>
<li><p>python3.8 syntaxwarnings</p></li>
<li><p>chipseeker missing gtf input</p></li>
<li><p>bugs with explain</p></li>
<li><p>bwa-mem2 not working with less than 12 cores</p></li>
<li><p>batch corrected TPMs no longer break when samples/rows are subset.</p></li>
</ul>
</section>
</section>
<section id="id100">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.2...v0.2.3">0.2.3</a> - 2020-09-01<a class="headerlink" href="#id100" title="Permalink to this headline"></a></h2>
<section id="id101">
<h3>Changed<a class="headerlink" href="#id101" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>retry mechanic for genomepy functions</p></li>
<li><p>moved RNA-seq sample clustering to the MultiQC</p></li>
<li><p>updated genomepy</p></li>
</ul>
</section>
<section id="id102">
<h3>Fixed<a class="headerlink" href="#id102" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>suffix being overwritten by layouts</p></li>
<li><p>issue with combining conditions and ruleorder for macs2</p></li>
<li><p>Assembly hub correctly showing annotations</p></li>
<li><p>.fa.sizes staying empty</p></li>
</ul>
</section>
</section>
<section id="id104">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.1...v0.2.2">0.2.2</a> - 2020-08-24<a class="headerlink" href="#id104" title="Permalink to this headline"></a></h2>
<section id="id105">
<h3>Added<a class="headerlink" href="#id105" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>option to add custom files to each assembly (such as ERCC spike ins for scRNA-seq)</p></li>
</ul>
</section>
<section id="id106">
<h3>Changed<a class="headerlink" href="#id106" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>assemblies are now checked in the configuration, similar to samples</p></li>
<li><p>get_genome was split in 3 rules, allowing for less reruns</p></li>
<li><p>Profiles are now parsed by the s2s wrapper</p></li>
<li><p>Checking for validity of samples.tsv now happens with pandasschema</p></li>
<li><p>Explicit priority arguments to all group jobs (aligner + samtools_presort)</p></li>
<li><p>Snakemake version (5.22.1)</p></li>
<li><p>Reduced threads on salmon indexing (matching aligners)</p></li>
<li><p>Make use of fasterq-dump instead of parallel-fastq-dump</p></li>
</ul>
</section>
<section id="id107">
<h3>Fixed<a class="headerlink" href="#id107" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Test no longer use old cache files</p></li>
<li><p>Profiles no longer overwrite command line arguments</p></li>
<li><p>Fixed edge-case with condition column in samples but no peak-calling</p></li>
<li><p>Downloading sra with prefetch tries multiple times to correct for lost connection</p></li>
<li><p>Ambiguity exception with rule narrowpeak_summit</p></li>
<li><p>combine_peaks makes use of biological replicate’s peaks, not technical replicate’s peaks</p></li>
<li><p>Bug with direct peak-calling on conditions</p></li>
</ul>
</section>
</section>
<section id="id109">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.2.0...v0.2.1">0.2.1</a> - 2020-08-10<a class="headerlink" href="#id109" title="Permalink to this headline"></a></h2>
<section id="id110">
<h3>Added<a class="headerlink" href="#id110" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Chipseeker images in MultiQC report</p></li>
<li><p>Samples that are on ENA are now directly downloaded from ENA as fastq. This means we skip the CPU instensive dumping step!</p></li>
</ul>
</section>
<section id="id111">
<h3>Fixed<a class="headerlink" href="#id111" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Fixed issue with some samples not being findable/downloadable with s2s</p></li>
<li><p>Fixed has_annotation always looking for annotation even if local files present</p></li>
<li><p>Fixed bug where scatac-seq workflow was making fastqc reports per sample</p></li>
</ul>
</section>
<section id="id112">
<h3>Changed<a class="headerlink" href="#id112" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>will try to UCSC gene annotations in Ensembl format (which uses gene IDs for the gene_id field, contrary to the UCSC format that uses transcript IDs. Wild huh?)</p></li>
</ul>
</section>
</section>
<section id="id114">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.1.0...v0.2.0">0.2.0</a> - 2020-08-04<a class="headerlink" href="#id114" title="Permalink to this headline"></a></h2>
<section id="id115">
<h3>Fixed<a class="headerlink" href="#id115" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Allow for same condition name across different assemblies &amp; different controls</p></li>
</ul>
</section>
<section id="id116">
<h3>Added<a class="headerlink" href="#id116" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>HISAT2 as aligner for RNA-seq</p></li>
<li><p>splice-aware HISAT2 indexing for RNA-seq</p></li>
<li><p>quantifier HTSeq for RNA-seq</p></li>
<li><p>quantifier featurecounts for RNA-seq</p></li>
<li><p>Salmon will output a gene-level TPM matrix as well</p></li>
<li><p>added/expanded <code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> info (now covers RNA- and scATAC-seq too)</p></li>
<li><p>sequencing strandedness may now be inferred automatically (unless specified in the config/samples.tsv)</p></li>
<li><p>strandedness results are displayed in the multiQC under “Strandedness”</p></li>
<li><p>a DEXSeq counts matrixs can now be generated with <code class="docutils literal notranslate"><span class="pre">dexseq:</span> <span class="pre">True</span></code></p></li>
<li><p>seq2science CLI now has the same reason flag as snakemake (-r/–reason flag)</p></li>
<li><p>(re)added fnwi + rimls logos to the qc reports that went missing in seq2science migration</p></li>
</ul>
</section>
<section id="id117">
<h3>Changed<a class="headerlink" href="#id117" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>rules and script names in RNA-seq. ex: <code class="docutils literal notranslate"><span class="pre">txi.R</span></code> is now <code class="docutils literal notranslate"><span class="pre">quant_to_counts.R</span></code> to better reflect its function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quant_to_counts.R</span></code> now converts salmon transcript abundances to gene counts identically to DESeq2</p></li>
<li><p>STAR no longer outputs counts, and is no longer found under <code class="docutils literal notranslate"><span class="pre">quantifiers</span></code></p></li>
<li><p>gene counts are generated from (filtered) bams when using either STAR or HISAT2 as aligner and HTSeq or featureCounts are quantifier</p></li>
<li><p>batch corrected gene counts are generated if a DESeq2 design contrast inclused a batch</p></li>
<li><p>batch corrected TPM are generated if a DESeq2 design contrast inclused a batch, and quantification was performed using Salmon</p>
<ul>
<li><p>for us in ANANSE, for instance</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> now retrieves messages from <code class="docutils literal notranslate"><span class="pre">explain.smk</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">seq2science</span> <span class="pre">explain</span></code> now used profiles and snakemakeOptions.</p></li>
</ul>
</section>
<section id="id118">
<h3>Fixed<a class="headerlink" href="#id118" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>the alignment workflow no longer uses strandedness</p></li>
<li><p>seq2science CLI can now be run without cores with a dryrun or profile with cores</p></li>
<li><p>Jenkins code style (now used mamba to install flake8)</p></li>
</ul>
</section>
</section>
<section id="id120">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.3...v0.1.0">0.1.0</a> - 2020-07-15<a class="headerlink" href="#id120" title="Permalink to this headline"></a></h2>
<section id="id121">
<h3>Added<a class="headerlink" href="#id121" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>bwa-mem2 as aligner</p></li>
<li><p>new command-line option <code class="docutils literal notranslate"><span class="pre">explain</span></code>, which explains what has been done, and writes your material &amp; methods section for you!</p></li>
</ul>
</section>
<section id="id122">
<h3>Changed<a class="headerlink" href="#id122" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>change the workflow names, replaced _ by -. (download_fastq to download-fastq, chip_seq to chip-seq, atac_seq to atac-seq, scatac_seq to scatac-seq, and rna_seq to rna-seq)</p></li>
<li><p>changed the way seq2science is called. Moved all the logic from bin/seq2science to seq2science/cli.py</p></li>
</ul>
</section>
<section id="id123">
<h3>Fixed<a class="headerlink" href="#id123" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Bug when merging replicates and having controls</p></li>
</ul>
</section>
</section>
<section id="id125">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.2...v0.0.3">0.0.3</a> - 2020-07-01<a class="headerlink" href="#id125" title="Permalink to this headline"></a></h2>
<section id="id126">
<h3>Fixed<a class="headerlink" href="#id126" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>bug when specifying 2 cores, which rounded down to zero cores for samtools sorting and crash</p></li>
<li><p>edger environment was incompatible</p></li>
<li><p>seq2science cache on sensible location + seq2science clean fixed</p></li>
<li><p>only lookup sample layout when not local, opens up for slightly better tests in bioconda recipe</p></li>
</ul>
</section>
</section>
<section id="id128">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.1...v0.0.2">0.0.2</a> - 2020-06-29<a class="headerlink" href="#id128" title="Permalink to this headline"></a></h2>
<section id="id129">
<h3>Fixed<a class="headerlink" href="#id129" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>samtools using the correct nr of threads after update to v1.10</p></li>
</ul>
</section>
<section id="id130">
<h3>Changed<a class="headerlink" href="#id130" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>The count table for ATAC/ChIP-seq peaks is now made from finding all peaks within a range of 200 bp, and taking the most significant one (gimmemotifs’ combine_peaks) and extending the remaining peaks 200 bp. On this count table quantile normalisation, TMM, RLE and upperquartile normalisation with CPM is done. Downstream steps log transform these and mean center them. This however means that for broadpeaks no count_table is generated.</p></li>
<li><p>Snakefmt -l 121 applied</p></li>
</ul>
</section>
</section>
<section id="id132">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/compare/v0.0.0...v0.0.1">0.0.1</a> - 2020-06-17<a class="headerlink" href="#id132" title="Permalink to this headline"></a></h2>
<p>Many minor bug- and quality of life fixes.</p>
</section>
<section id="id134">
<h2><a class="reference external" href="https://github.com/vanheeringen-lab/seq2science/releases/tag/v0.0.0">0.0.0</a> - 2020-06-11<a class="headerlink" href="#id134" title="Permalink to this headline"></a></h2>
<p>First release of seq2science!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="schemas.html" class="btn btn-neutral float-left" title="All configurable options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extracontent.html" class="btn btn-neutral float-right" title="Extra resources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Maarten van der Sande, Siebren Frölich, Jos Smits, Rebecca Snabel, Tilman Schäfers, &amp; Simon van Heeringen..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>