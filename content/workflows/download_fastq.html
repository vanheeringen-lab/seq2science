<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Downloading fastqs &mdash; seq2science  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Alignment" href="alignment.html" />
    <link rel="prev" title="Workflows" href="../workflows.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            seq2science
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../workflows.html">Workflows</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Downloading fastqs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#workflow-overview-simplified">Workflow overview (simplified)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#download-sra-file">Download SRA file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#filling-out-the-samples-tsv">Filling out the samples.tsv</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sample-column">Sample column</a></li>
<li class="toctree-l4"><a class="reference internal" href="#final-notes">Final notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#filling-out-the-config-yaml">Filling out the config.yaml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#best-practices">Best practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#downloading-with-ascp">Downloading with ascp</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filetype-extensions-and-paired-end-suffix">Filetype extensions and paired-end suffix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="alignment.html">Alignment</a></li>
<li class="toctree-l2"><a class="reference internal" href="atac_seq.html">ATAC-seq</a></li>
<li class="toctree-l2"><a class="reference internal" href="chip_seq.html">ChIP-seq</a></li>
<li class="toctree-l2"><a class="reference internal" href="rna_seq.html">RNA-seq</a></li>
<li class="toctree-l2"><a class="reference internal" href="scatac_seq.html">scATAC-seq</a></li>
<li class="toctree-l2"><a class="reference internal" href="scrna_seq.html">scRNA-seq</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../results.html">Using the results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensive_docs.html">Extensive docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extracontent.html">Extra resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing to seq2science</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">seq2science</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../workflows.html">Workflows</a></li>
      <li class="breadcrumb-item active">Downloading fastqs</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/vanheeringen-lab/seq2science/blob/master/docs/content/workflows/download_fastq.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="downloading-fastqs">
<h1>Downloading fastqs<a class="headerlink" href="#downloading-fastqs" title="Permalink to this heading"></a></h1>
<p>Downloading public data in bulk from the NCBI, ENA, and DDBJ databases has never been easier!</p>
<section id="workflow-overview-simplified">
<h2>Workflow overview (simplified)<a class="headerlink" href="#workflow-overview-simplified" title="Permalink to this heading"></a></h2>
<p align="center">
  <img src="../../_static/download_fastq.png" style="width:auto;height:100px;">
</p><section id="download-sra-file">
<h3>Download SRA file<a class="headerlink" href="#download-sra-file" title="Permalink to this heading"></a></h3>
<p>The four most popular databases that store sequencing data are National Center for Biotechnology Information (NCBI), the European Nucleotide Archive (ENA), the DNA Data Bank of Japan (DDBJ), and the Genome Sequence Archive (GSA).
Only ENA and GSA store the actual fastq files, and DDBJ and NCBI store the raw data (as a sra file) from which a fastq can be derived.
For this reason for each sample will first be checked if it can be downloaded from ENA.
Otherwise we will download the samples in its raw format. To convert this data to a fastq it has to be “<em>dumped</em>“.</p>
</section>
</section>
<section id="filling-out-the-samples-tsv">
<h2>Filling out the samples.tsv<a class="headerlink" href="#filling-out-the-samples-tsv" title="Permalink to this heading"></a></h2>
<p>Before running a workflow you will have to specify which samples you want to run the workflow on.
Each workflow starts with a <code class="docutils literal notranslate"><span class="pre">samples.tsv</span></code> as an example, and you should adapt it to your specific needs.
As an example, the <code class="docutils literal notranslate"><span class="pre">samples.tsv</span></code> could look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sample</span>
<span class="n">ERX123</span>  <span class="o">&lt;--</span> <span class="n">EBI</span> <span class="n">ENA</span> <span class="n">experiment</span>
<span class="n">ERR321</span>  <span class="o">&lt;--</span> <span class="n">EBI</span> <span class="n">ENA</span> <span class="n">run</span>
<span class="n">GSMabc</span>  <span class="o">&lt;--</span> <span class="n">GEO</span> <span class="n">sample</span>
<span class="n">SRX456</span>  <span class="o">&lt;--</span> <span class="n">SRA</span> <span class="n">experiment</span>
<span class="n">SRRxzy</span>  <span class="o">&lt;--</span> <span class="n">SRA</span> <span class="n">run</span>
<span class="n">DRX890</span>  <span class="o">&lt;--</span> <span class="n">DDBJ</span> <span class="n">experiment</span>
<span class="n">DRR098</span>  <span class="o">&lt;--</span> <span class="n">DDBJ</span> <span class="n">run</span>
<span class="n">CRX123</span>  <span class="o">&lt;--</span> <span class="n">GSA</span> <span class="n">experiment</span>
</pre></div>
</div>
<section id="sample-column">
<h3>Sample column<a class="headerlink" href="#sample-column" title="Permalink to this heading"></a></h3>
<p>When downloading fastq files there is only one column in the samples.txt.
This is the sample column, where each sample is specified.
Samples are specified with their name of the accession (e.g. GSM2837484).
(Accepted formats start with “GSM”, “SRR”, “SRX”, “DRR”, “DRX”, “ERR” “ERX”, or “CRX”)</p>
</section>
<section id="final-notes">
<h3>Final notes<a class="headerlink" href="#final-notes" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Feel free to add columns to your liking (these will be ignored).</p></li>
</ul>
</section>
</section>
<section id="filling-out-the-config-yaml">
<h2>Filling out the config.yaml<a class="headerlink" href="#filling-out-the-config-yaml" title="Permalink to this heading"></a></h2>
<p>Every workflow has many configurable options, and can be set in the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file.
In each <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> we highlighted a couple options that we think are relevant for that specific workflow, and set (we think) <strong>reasonable default</strong> values.</p>
<p>When a workflow starts it prints the configuration variables influencing the workflow, and (almost) all these values can be added in the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> and changed to your liking.
You can see the complete set of configurable options in the <a class="reference external" href="../schemas.html">extensive docs</a>.</p>
</section>
<section id="best-practices">
<h2>Best practices<a class="headerlink" href="#best-practices" title="Permalink to this heading"></a></h2>
<section id="downloading-with-ascp">
<h3>Downloading with ascp<a class="headerlink" href="#downloading-with-ascp" title="Permalink to this heading"></a></h3>
<p>ascp is a downloading protocol that allows for (sometimes much) faster speeds. If you have ascp installed you can make the workflow download through this protocol. You can specify the path to the binary in the config.yaml by key <code class="docutils literal notranslate"><span class="pre">ascp_path</span></code> and the ascp key in the config by key <code class="docutils literal notranslate"><span class="pre">ascp_key</span></code>:</p>
<p>See this <a class="reference external" href="https://gist.github.com/mfansler/71f09c8b6c9a95ec4e759a8ffc488be3">gist</a> for an easy installation of ascp.</p>
</section>
<section id="filetype-extensions-and-paired-end-suffix">
<h3>Filetype extensions and paired-end suffix<a class="headerlink" href="#filetype-extensions-and-paired-end-suffix" title="Permalink to this heading"></a></h3>
<p>The pipeline will save fastq files in the <em>fastq_dir</em> directory, which is located in the <em>result_dir</em> directory by default.</p>
<p>People and tools have different preferences for storing their data. One of these differences is how to name the fastq.gz files. Some people/tools prefer <code class="docutils literal notranslate"><span class="pre">fastq.gz</span></code>, while others prefer <code class="docutils literal notranslate"><span class="pre">fq.gz</span></code>. By default the pipeline names files with the fastq.gz extension. However if you prefer to change this you can set the variable <em>fqsuffix</em> accordingly.
The same goes for paired-end suffix conventions, most people prefer <code class="docutils literal notranslate"><span class="pre">sample_R1</span></code> which is our default. However you can use your preferred suffix by setting variables <em>fqext1</em> and <em>fqext2</em>.</p>
<p>In the`config.yaml:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastq_dir</span><span class="p">:</span> <span class="o">./</span><span class="n">my_first_fastq_dir</span>

<span class="n">fqsuffix</span><span class="p">:</span> <span class="n">fastq</span>
<span class="n">fqext1</span><span class="p">:</span> <span class="n">R1</span>
<span class="n">fqext2</span><span class="p">:</span> <span class="n">R2</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../workflows.html" class="btn btn-neutral float-left" title="Workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="alignment.html" class="btn btn-neutral float-right" title="Alignment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Maarten van der Sande, Siebren Frölich, Jos Smits, Rebecca Snabel, Tilman Schäfers, &amp; Simon van Heeringen..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>