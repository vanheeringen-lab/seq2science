

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; seq2science  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Workflows" href="workflows.html" />
    <link rel="prev" title="seq2science" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> seq2science
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#seq2science-requires-anaconda">seq2science requires anaconda</a></li>
<li class="toctree-l3"><a class="reference internal" href="#easy-installation-bioconda">Easy installation (bioconda)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#install-from-source">Install from source</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mamba">Mamba</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-workflow">Running a workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-an-explanation-of-what-seq2science-did">Getting an explanation of what seq2science did</a></li>
<li class="toctree-l2"><a class="reference internal" href="#where-does-seq2science-store-results-and-looks-for-starting-points">Where does seq2science store results and looks for ‘starting points’?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-snakemake">What is Snakemake?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Using the results</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensive_docs.html">Extensive docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="extracontent.html">Extra resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">seq2science</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/vanheeringen-lab/seq2science/blob/master/docs/content/gettingstarted.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="seq2science-requires-anaconda">
<h3>seq2science requires anaconda<a class="headerlink" href="#seq2science-requires-anaconda" title="Permalink to this headline">¶</a></h3>
<p>Download and install <a class="reference external" href="https://www.anaconda.com/">miniconda</a> if not yet installed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">user@comp:~$</span> wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh
<span class="gp">user@comp:~$</span> bash miniconda.sh <span class="c1"># (make sure to say **yes** when asked to run conda init)</span>
<span class="gp">user@comp:~$</span> <span class="nb">source</span> ~/.bashrc
</pre></div>
</div>
<p>Set the correct channels (in this specific order) to use bioconda:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">user@comp:~$</span> conda config --add channels defaults
<span class="gp">user@comp:~$</span> conda config --add channels bioconda
<span class="gp">user@comp:~$</span> conda config --add channels conda-forge
</pre></div>
</div>
</div>
<div class="section" id="easy-installation-bioconda">
<h3>Easy installation (bioconda)<a class="headerlink" href="#easy-installation-bioconda" title="Permalink to this headline">¶</a></h3>
<p>The most straightforward way to install seq2science is by using <a class="reference external" href="https://docs.continuum.io/anaconda/">conda</a> using the <a class="reference external" href="https://bioconda.github.io/">bioconda</a> channel. To install seq2science in a fresh environment using bioconda:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> conda create -n seq2science seq2science
</pre></div>
</div>
</div>
<div class="section" id="install-from-source">
<h3>Install from source<a class="headerlink" href="#install-from-source" title="Permalink to this headline">¶</a></h3>
<p>To install the latest (potentially unreleased) version of seq2science you can install from source:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> git clone https://github.com/vanheeringen-lab/seq2science
<span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> <span class="nb">cd</span> seq2science
<span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~/seq2science$</span> conda env create --name seq2science -f requirements.yaml
<span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~/seq2science$</span> conda activate seq2science
<span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~/seq2science$</span> pip install .
</pre></div>
</div>
</div>
<div class="section" id="mamba">
<h3>Mamba<a class="headerlink" href="#mamba" title="Permalink to this headline">¶</a></h3>
<p>We recommend you to install <a class="reference external" href="https://github.com/QuantStack/mamba">mamba</a> in your seq2science environment to install dependencies faster:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~$</span> conda install mamba -c conda-forge
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-a-workflow">
<h2>Running a workflow<a class="headerlink" href="#running-a-workflow" title="Permalink to this headline">¶</a></h2>
<p>A typical setup and run of a workflow looks like this, where you start with activating the seq2science environment.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> conda activate seq2science
</pre></div>
</div>
<p>Then navigate to your project dir.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~$</span> <span class="nb">cd</span> my_project
</pre></div>
</div>
<p>Where you initialize the workflow with a configuration file and samples file, and edit those to your needs.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~/my_project$</span> seq2science init <span class="o">{</span>workflow<span class="o">}</span>
</pre></div>
</div>
<p>And finally run the workflow. Note that the first time you run a workflow it will take longer as it will create the snakemake environments for all analysis steps.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~.my_project$</span> seq2science run <span class="o">{</span>workflow<span class="o">}</span> --cores <span class="m">24</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-an-explanation-of-what-seq2science-did">
<h2>Getting an explanation of what seq2science did<a class="headerlink" href="#getting-an-explanation-of-what-seq2science-did" title="Permalink to this headline">¶</a></h2>
<p>Seq2science has a function to write an explanation of what has/will be done with the configuration file for a workflow:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(seq2science)</span> <span class="gp">user@comp:~.my_project$</span> seq2science explain <span class="o">{</span>workflow<span class="o">}</span>
</pre></div>
</div>
<p>This will print an extensive (quite technical) explanation that can also serve as a starting point for a material and methods section. This is not a replacement for the documentation, which we definitely recommend you to always read!</p>
</div>
<div class="section" id="where-does-seq2science-store-results-and-looks-for-starting-points">
<h2>Where does seq2science store results and looks for ‘starting points’?<a class="headerlink" href="#where-does-seq2science-store-results-and-looks-for-starting-points" title="Permalink to this headline">¶</a></h2>
<p>We recommend that for a typical run of seq2science you use a folder structure like this:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>root
└── my_project
    ├── samples.tsv
    ├── config.yaml
    └── {result_dir}
        └── {fastq_dir}
            ├── sample1.fastq.gz
            ├── sample2_R1.fastq.gz
            └── sample2_R2.fastq.gz
</pre></div>
</div>
<p>This structure is the default setting of seq2science, however can be adjusted to your liking in the config.yaml.</p>
</div>
<div class="section" id="what-is-snakemake">
<h2>What is Snakemake?<a class="headerlink" href="#what-is-snakemake" title="Permalink to this headline">¶</a></h2>
<p>Since <em>under-the-hood</em> seq2science is based on <a class="reference external" href="https://snakemake.readthedocs.io/en/stable/">snakemake</a>, we thought it might be nice to give a little introduction to snakemake.</p>
<p>Snakemake is a pipeline tool that allows users to specify <em>rules</em>. Each rule is defined with what it requires as input, what it will output, and what command it needs to run to generate the output from the input. This design allows for the linking of many rules, where the input of one rule is the output of another. When invoking Snakemake it will then decide itself which rules need to be run for the output you specified.</p>
<p>Here is an example Snakefile with just two (very simple) rules:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>rule one:
    output:
        &quot;file1.txt&quot;
    shell:
        # for this example we just make an empty file
        &quot;touch {output}&quot;

rule two:
    input:
        &quot;file1.txt&quot;
    output:
        &quot;file2.txt&quot;
    shell:
        # for this example we just make an empty file
        &quot;touch {output}&quot;
</pre></div>
</div>
<p>We can tell snakemake to generate for instance file1.txt like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> snakemake file1.txt
</pre></div>
</div>
<p>And snakemake will see that rule one can generate this output, sees that it requires no input, and executes the shell command. If we tell snakemake to generate file2.txt:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp gp-VirtualEnv">(base)</span> <span class="gp">user@comp:~$</span> snakemake file2.txt
</pre></div>
</div>
<p>It will see that rule two needs to be run, takes a look at the required input for this rule, and checks whether file1.txt already exists. If it does, it will immediatly execute rule two, if file1.txt does not already exist it will execute rule one first.</p>
<p>We highly recommend everyone interested in automating a part of their analysis to take a look at snakemake! For a more complete explanation of how snakemake works see the <a class="reference external" href="https://snakemake.readthedocs.io/">snakemake docs</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="workflows.html" class="btn btn-neutral float-right" title="Workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="seq2science" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Maarten van der Sande, Siebren Frölich, Jos Smits, &amp; Simon van Heeringen.

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>